FROM ubuntu

USER root
ENV DEBIAN_FRONTEND noninteractive
 
RUN apt-get update && \
    apt-get -y install \
        apt-utils \
        build-essential \
        curl \
        git \
        libbz2-dev \
        libreadline-dev \
        libsqlite3-dev \
        libssl-dev \
        sudo \
        wget \
        vim \
        zlib1g-dev && \
    rm -rf /var/lib/apt/lists/*

# Install pyenv.
RUN curl https://pyenv.run | bash

ENV PYENV_ROOT /root/.pyenv
ENV PATH $PYENV_ROOT/shims:$PYENV_ROOT/bin:$PATH

ENV PYTHON_VERSION 3.8.5

RUN pyenv install $PYTHON_VERSION
RUN pyenv global $PYTHON_VERSION

RUN curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -

COPY profile/.vimrc /root/.vimrc